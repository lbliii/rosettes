# API Reference

URL: /docs/reference/api/
Section: reference
Tags: api, reference

--------------------------------------------------------------------------------

API Reference Complete reference for all public functions and classes. High-Level Functions highlight() Highlight source code and return HTML. def highlight( code: str, language: str, *, hl_lines: set[int] | frozenset[int] | None = None, show_linenos: bool = False, css_class: str | None = None, css_class_style: str = &quot;semantic&quot;, start: int = 0, end: int | None = None, ) -&gt; str: ... Parameters: Parameter Type Default Description code str required Source code to highlight language str required Language name or alias hl_lines set[int] | None None 1-based line numbers to highlight show_linenos bool False Include line numbers in output css_class str | None None Container CSS class (auto-detected from style) css_class_style str &quot;semantic&quot; &quot;semantic&quot; or &quot;pygments&quot; start int 0 Starting index in source string end int | None None Ending index in source string Returns: HTML string with syntax-highlighted code. Raises: LookupError if language is not supported. Example: from rosettes import highlight # Basic usage html = highlight(&quot;def foo(): pass&quot;, &quot;python&quot;) # With line highlighting html = highlight(code, &quot;python&quot;, hl_lines={2, 3}, show_linenos=True) # Pygments-compatible output html = highlight(code, &quot;python&quot;, css_class_style=&quot;pygments&quot;) tokenize() Tokenize source code without formatting. def tokenize( code: str, language: str, start: int = 0, end: int | None = None, ) -&gt; list[Token]: ... Parameters: Parameter Type Default Description code str required Source code to tokenize language str required Language name or alias start int 0 Starting index in source string end int | None None Ending index in source string Returns: List of Token objects. Raises: LookupError if language is not supported. Example: from rosettes import tokenize tokens = tokenize(&quot;x = 42&quot;, &quot;python&quot;) for token in tokens: print(f&quot;{token.type.name}: {token.value!r}&quot;) Parallel Functions highlight_many() Highlight multiple code blocks in parallel. def highlight_many( items: Iterable[tuple[str, str]], *, max_workers: int | None = None, css_class_style: str = &quot;semantic&quot;, ) -&gt; list[str]: ... Parameters: Parameter Type Default Description items Iterable[tuple[str, str]] required (code, language) tuples max_workers int | None min(4, cpu_count) Thread count css_class_style str &quot;semantic&quot; Class style for all blocks Returns: List of HTML strings in same order as input. Example: from rosettes import highlight_many blocks = [ (&quot;def foo(): pass&quot;, &quot;python&quot;), (&quot;const x = 1;&quot;, &quot;javascript&quot;), ] results = highlight_many(blocks) tokenize_many() Tokenize multiple code blocks in parallel. def tokenize_many( items: Iterable[tuple[str, str]], *, max_workers: int | None = None, ) -&gt; list[list[Token]]: ... Parameters: Parameter Type Default Description items Iterable[tuple[str, str]] required (code, language) tuples max_workers int | None min(4, cpu_count) Thread count Returns: List of token lists in same order as input. Registry Functions get_lexer() Get a lexer instance by name or alias. def get_lexer(name: str) -&gt; Lexer: ... Parameters: Parameter Type Description name str Language name or alias Returns: Lexer instance. Raises: LookupError if language is not supported. Example: from rosettes import get_lexer lexer = get_lexer(&quot;python&quot;) tokens = list(lexer.tokenize(&quot;x = 1&quot;)) list_languages() List all supported language names. def list_languages() -&gt; list[str]: ... Returns: Sorted list of canonical language names. Example: from rosettes import list_languages languages = list_languages() print(len(languages)) # 55 print(languages[:5]) # [&#x27;bash&#x27;, &#x27;c&#x27;, &#x27;clojure&#x27;, &#x27;cpp&#x27;, &#x27;css&#x27;] supports_language() Check if a language is supported. def supports_language(name: str) -&gt; bool: ... Parameters: Parameter Type Description name str Language name or alias to check Returns: True if supported, False otherwise. Example: from rosettes import supports_language supports_language(&quot;python&quot;) # True supports_language(&quot;py&quot;) # True (alias) supports_language(&quot;cobol&quot;) # False Types Token Immutable token representing a piece of highlighted code. class Token(NamedTuple): type: TokenType value: str line: int = 1 column: int = 1 Attributes: Attribute Type Description type TokenType Semantic token type value str The actual text content line int 1-based line number column int 1-based column number TokenType Enumeration of all token types. See Token Types for complete list. class TokenType(StrEnum): KEYWORD = &quot;k&quot; NAME = &quot;n&quot; STRING = &quot;s&quot; # ... 60+ types Protocols Lexer Protocol for lexer implementations. class Lexer(Protocol): name: str aliases: tuple[str, ...] def tokenize( self, code: str, start: int = 0, end: int | None = None, ) -&gt; Iterator[Token]: ... def tokenize_fast( self, code: str, start: int = 0, end: int | None = None, ) -&gt; Iterator[Token]: ... Formatter Protocol for formatter implementations. class Formatter(Protocol): def format_string( self, tokens: Iterable[Token], config: FormatConfig, ) -&gt; str: ... Configuration Classes FormatConfig Configuration for HTML output. @dataclass(frozen=True) class FormatConfig: css_class: str = &quot;rosettes&quot; data_language: str = &quot;&quot; HighlightConfig Configuration for line highlighting. @dataclass(frozen=True) class HighlightConfig: hl_lines: frozenset[int] = frozenset() show_linenos: bool = False css_class: str = &quot;rosettes&quot; Module Attributes __version__ Current version string. from rosettes import __version__ print(__version__) # &quot;0.3.0&quot;

--------------------------------------------------------------------------------

Metadata:
- Word Count: 741
- Reading Time: 4 minutes