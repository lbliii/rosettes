{"url":"/api/rosettes/_registry/","title":"_registry","description":"Lazy lexer registry for Rosettes.\n\nAll lexers are hand-written state machines with O(n) guaranteed performance\nand zero ReDoS vulnerability. Lexers are loaded on-demand using functools.cache\nfor thread-safe memoization.\n\nPerformance Note:\n    This module avoids importing bengal.errors at module load time to prevent\n    pulling in the heavy Bengal import chain. Errors are imported lazily only\n    when actually raised (which is rare - only for unsupported languages).","plain_text":"_registry - Rosettes window.BENGAL_THEME_DEFAULTS = { appearance: 'system', palette: '' }; window.Bengal = window.Bengal || {}; window.Bengal.enhanceBaseUrl = '/assets/js/enhancements'; window.Bengal.watchDom = true; window.Bengal.debug = false; window.Bengal.enhanceUrls = { 'toc': '/assets/js/enhancements/toc.js', 'docs-nav': '/assets/js/enhancements/docs-nav.js', 'tabs': '/assets/js/enhancements/tabs.js', 'lightbox': '/assets/js/enhancements/lightbox.js', 'interactive': '/assets/js/enhancements/interactive.js', 'mobile-nav': '/assets/js/enhancements/mobile-nav.js', 'action-bar': '/assets/js/enhancements/action-bar.js', 'copy-link': '/assets/js/enhancements/copy-link.js', 'data-table': '/assets/js/enhancements/data-table.js', 'lazy-loaders': '/assets/js/enhancements/lazy-loaders.js', 'holo': '/assets/js/enhancements/holo.js', 'link-previews': '/assets/js/enhancements/link-previews.js' }; (function () { try { var defaults = window.BENGAL_THEME_DEFAULTS || { appearance: 'system', palette: '' }; var defaultAppearance = defaults.appearance; if (defaultAppearance === 'system') { defaultAppearance = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light'; } var storedTheme = localStorage.getItem('bengal-theme'); var storedPalette = localStorage.getItem('bengal-palette'); var theme = storedTheme ? (storedTheme === 'system' ? defaultAppearance : storedTheme) : defaultAppearance; var palette = storedPalette ?? defaults.palette; document.documentElement.setAttribute('data-theme', theme); if (palette) { document.documentElement.setAttribute('data-palette', palette); } } catch (e) { document.documentElement.setAttribute('data-theme', 'light'); } })(); { \"prerender\": [ { \"where\": { \"and\": [ { \"href_matches\": \"/docs/*\" }, { \"not\": { \"selector_matches\": \"[data-external], [target=_blank], .external\" } } ] }, \"eagerness\": \"conservative\" } ], \"prefetch\": [ { \"where\": { \"and\": [ { \"href_matches\": \"/*\" }, { \"not\": { \"selector_matches\": \"[data-external], [target=_blank], .external\" } } ] }, \"eagerness\": \"conservative\" } ] } Skip to main content ❀ DocumentationArrow ClockwiseGet StartedCodeHighlightingPaletteStylingStarburstExtendingNoteTutorialsBookmarkReferenceInfoAboutReleasesDevGitHubAPI Reference Palette Appearance Chevron Down Mode Monitor System Sun Light Moon Dark Palette Snow Lynx Brown Bengal Silver Bengal Charcoal Bengal Blue Bengal List ❀ X Close Documentation Caret Down Arrow Clockwise Get Started Code Highlighting Palette Styling Starburst Extending Note Tutorials Bookmark Reference Info About Releases Dev Caret Down GitHub API Reference Palette Appearance Chevron Down Mode Monitor System Sun Light Moon Dark Palette Snow Lynx Brown Bengal Silver Bengal Charcoal Bengal Blue Bengal Rosettes API Reference Caret Right Formatters html Caret Right Lexers _scanners _state_machine bash_sm c_sm clojure_sm cpp_sm css_sm csv_sm cuda_sm cue_sm dart_sm diff_sm dockerfile_sm elixir_sm gleam_sm go_sm graphql_sm groovy_sm haskell_sm hcl_sm html_sm ini_sm java_sm javascript_sm jinja_sm json_sm julia_sm kida_sm kotlin_sm lua_sm makefile_sm markdown_sm mojo_sm nginx_sm nim_sm perl_sm php_sm pkl_sm plaintext_sm powershell_sm protobuf_sm python_sm r_sm ruby_sm rust_sm scala_sm sql_sm stan_sm swift_sm toml_sm tree_sm triton_sm typescript_sm v_sm xml_sm yaml_sm zig_sm Caret Right Themes _mapping _palette _roles palettes _config _escape _parallel _protocol _registry _types delegate rosettes Api DocumentationRosettes API Reference ᗢ Caret Down Link Copy URL External Open LLM text Copy Copy LLM text Share with AI Ask Claude Ask ChatGPT Ask Gemini Ask Copilot Module _registry Lazy lexer registry for Rosettes. All lexers are hand-written state machines with O(n) guaranteed performance and zero ReDoS vulnerability. Lexers are loaded on-demand using functools.cache for thread-safe memoization. Performance Note: This module avoids importing bengal.errors at module load time to prevent pulling in the heavy Bengal import chain. Errors are imported lazily only when actually raised (which is rare - only for unsupported languages). File Code View source 1Class5Functions Classes LexerSpec 3 ▼ Specification for lazy-loading a lexer. Specification for lazy-loading a lexer. Attributes Name Type Description module str Full module path (e.g., 'rosettes.lexers.python_sm'). class_name str Name of the lexer class in the module. aliases tuple[str, ...] Alternative names for lookup. Functions _normalize_name 1 str ▼ Normalize a language name to its canonical form. O(1) lookup. def _normalize_name(name: str) -&gt; str Parameters Name Type Description name str Language name or alias. Returns str get_lexer 1 StateMachineLexer ▼ Get a lexer instance by name or alias. All lexers are hand-written state machi… def get_lexer(name: str) -&gt; StateMachineLexer Get a lexer instance by name or alias. All lexers are hand-written state machines with O(n) guaranteed performance and zero ReDoS vulnerability. Uses functools.cache for thread-safe memoization. Lexers are loaded lazily on first access. Parameters Name Type Description name str Language name or alias (e.g., 'python', 'py', 'js'). Returns StateMachineLexer _get_lexer_by_canonical 1 StateMachineLexer ▼ Internal cached loader - keyed by canonical name. def _get_lexer_by_canonical(canonical: str) -&gt; StateMachineLexer Parameters Name Type Description canonical str Returns StateMachineLexer list_languages 0 list[str] ▼ List all supported language names. O(1). def list_languages() -&gt; list[str] Returns list[str] supports_language 1 bool ▼ Check if a language is supported. def supports_language(name: str) -&gt; bool Parameters Name Type Description name str Language name or alias. Returns bool ← Previous _protocol Next → _types List &copy; 2026 Rosettes ᓚᘏᗢ window.BENGAL_LAZY_ASSETS = { tabulator: '/assets/js/tabulator.min.js', dataTable: '/assets/js/data-table.js', mermaidToolbar: '/assets/js/mermaid-toolbar.js', mermaidTheme: '/assets/js/mermaid-theme.js', graphMinimap: '/assets/js/graph-minimap.js', graphContextual: '/assets/js/graph-contextual.js' }; window.BENGAL_ICONS = { close: '/assets/icons/close.svg', enlarge: '/assets/icons/enlarge.svg', copy: '/assets/icons/copy.svg', 'download-svg': '/assets/icons/download.svg', 'download-png': '/assets/icons/image.svg', 'zoom-in': '/assets/icons/zoom-in.svg', 'zoom-out': '/assets/icons/zoom-out.svg', reset: '/assets/icons/reset.svg' }; Arrow Up","excerpt":"_registry - Rosettes window.BENGAL_THEME_DEFAULTS = { appearance: 'system', palette: '' }; window.Bengal = window.Bengal || {}; window.Bengal.enhanceBaseUrl = '/assets/js/enhancements';...","metadata":{"type":"autodoc-python","qualified_name":"_registry","element_type":"module","description":"Lazy lexer registry for Rosettes.\n\nAll lexers are hand-written state machines with O(n) guaranteed performance\nand zero ReDoS vulnerability. Lexers are loaded on-demand using functools.cache\nfor thread-safe memoization.\n\nPerformance Note:\n    This module avoids importing bengal.errors at module load time to prevent\n    pulling in the heavy Bengal import chain. Errors are imported lazily only\n    when actually raised (which is rare - only for unsupported languages).","source_file":"src/rosettes/_registry.py","line_number":1,"is_autodoc":true,"_autodoc_template":"autodoc/python/module","_autodoc_url_path":"api/rosettes/_registry","_autodoc_page_type":"autodoc-python","title":"_registry"},"section":"rosettes","word_count":716,"reading_time":4}